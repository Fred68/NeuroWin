/*************************************************/
/* neuro.cpp                                     */
/* Implementation for neural network components  */
/* Standard C++ 20.0                             */
/* Version 0.1                                   */
/* Copyright FcSoft                              */
/*************************************************/


NOTE:
	v	La funzione neuron::calc_x(), per eseguire la somma con algoritmo parallelo, non usa:
        x = std::reduce(std::execution::par,syns.begin(),syns.end(),s0,[&](act tot,synapse &s){return tot+s.pn->y*s.w;});
        perché l'operatore binario (associativo e commutativo) accetta solo tipi compatibili, non classi.
        Si potrebbe scrivere un iterator sui prodotti w*xi delle sinapsi, ma è poco pratico.

    v   Invece neuron::calc_x() usa: std::for_each(std::execution::par, syns.begin(), syns.end(), func_atm);
        con: auto func_atm = [&](const synapse &s) {sum.fetch_add(s.pn->y * s.w);}; con synapse passata per riferimento.
        La somma è atomic<act> sum e calcolata con sum.fetch_add(), per evitare ogni race condition.

    v   Aggiunte alcune funzioni di attivazione (e derivata), tra cui one() per rappresentare il bias con un peso extra.

    v   Si prevede di dotare la classe network di due funzioni per impostare il vettore dei segnali in entrata 

DA FARE
    
    v   Inizializzare la rete con un nodo extra di bias e con la sua funzione di attivazione.
    v   Aggiungere bool neuron::active, per indicare se va ricalcolato. Es.: se one() o se disattivato (relu < 0).
    v   Aggiungere composizione degli strati con un tipo di funzione per livello.
	v	Lasciare neuron e synapse friend, ma togliere network.
    v   Nuove classi (neurone o sinapsi di input) ? No, usare il flag 'input' sul neurone.
    v   Aggiungere funzione per impostare la x di un nodo (se è di tipo input)
	v	Un neurone va dichiarato di input nel costruttore (la funzione di attivazione è id). Poi non può più essere cambiato. 
    x   Impostare 'input' a false, se vector<synapse> syns.size()==0, automaticamente nel costruttore ? No.
    v   Correggere network per avere recettori al primo strato (cioè neuroni di input, senza sinapsi e con funzione id).

	.	Rendere private tutte le funzioni possibili in neuron e synapse. Vedere quali funzioni lasciare pubbliche.

	.   Aggiungere connessione ai dati di input per i nodi del primo livello.

    .   ...